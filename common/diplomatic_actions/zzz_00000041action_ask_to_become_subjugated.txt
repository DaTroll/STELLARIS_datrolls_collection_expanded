action_ask_to_become_subjugated = {
    icon = "GFX_diplomacy_status_has_vassal"
    requires_actor_peace = yes
    requires_recipient_peace = yes
    diplo_view_acceptance_icon = no
    should_notify_all_communications = yes
    AI_acceptance_base_value = -50
    action_type = positive
    potential = {
        hidden_trigger = {
            is_subject = no
        }
    }
    possible = {
        homicidal_diplomacy_restrictions = {
            mirror = yes
        }
        pompous_sender_diplomacy_restrictions = yes
        custom_tooltip = {
            fail_text = "federation_actor_no_separate_treaties"
            NOT = {
                AND = {
                    has_federation = yes
                    federation = {
                        has_federation_law = treaties_separate_no
                    }
                    NOT = {
                        federation = {
                            any_member = {
                                is_same_value = root.from
                            }
                        }
                    }
                }
            }
        }
        custom_tooltip = {
            fail_text = "federation_recipient_no_separate_treaties"
            from = {
                NOT = {
                    AND = {
                        has_federation = yes
                        federation = {
                            has_federation_law = treaties_separate_no
                        }
                        NOT = {
                            federation = {
                                any_member = {
                                    is_same_value = root
                                }
                            }
                        }
                    }
                }
            }
        }
        custom_tooltip = {
            fail_text = "requires_not_in_galactic_empire"
            OR = {
                NAND = {
                    has_galactic_emperor = yes
                    is_galactic_community_member = no
                    from = {
                        is_galactic_community_member = yes
                    }
                }
                NAND = {
                    has_galactic_emperor = yes
                    is_galactic_community_member = yes
                    from = {
                        is_galactic_community_member = no
                    }
                }
            }
        }
        custom_tooltip = {
            fail_text = "requires_recipient_not_custodian"
            is_galactic_custodian = no
        }
        custom_tooltip = {
            fail_text = "requires_recipient_not_gal_emperor"
            is_galactic_emperor = no
        }
        custom_tooltip = {
            fail_text = "requires_recipient_not_btc"
            has_been_declared_crisis = no
        }
        custom_tooltip = {
            fail_text = "requires_actor_not_pompous"
            NOT = {
                has_valid_civic = civic_pompous_purists
            }
        }
        custom_tooltip = {
            fail_text = requires_50_trust_or_excellent
            OR = {
                opinion_level = {
                    who = from
                    level >= excellent
                }
                from = {
                    trust = {
                        who = root
                        value >= 50
                    }
                }
            }
        }
        custom_tooltip = {
            fail_text = requires_embassy_or_diplomatic_networking
            OR = {
                has_embassy = from
                has_active_tradition = tr_diplomacy_diplomatic_networking
            }
        }
    }
    should_ai_propose = {
        modifier = {
            mult = 0
            OR = {
                is_militarist = yes
                is_civic_militarist = yes
                is_authoritarian = yes
                is_civic_authoritarian = yes
                is_xenophobe = yes
                is_xenophobic_isolationists = yes
            }
        }
        modifier = {
            mult = 0
            from = {
                trust = {
                    who = root
                    value < 50
                }
            }
        }
        modifier = {
            mult = 0
            relative_power = {
                who = from
                category = all
                value >= equivalent
            }
        }
    }
    ai_acceptance = {
        modifier = {
            add = -100
            from = {
                trust = {
                    who = root
                    value < 50
                }
            }
            desc = LACK_OF_TRUST
        }
    }
}
